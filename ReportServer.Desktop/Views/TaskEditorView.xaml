<UserControl x:Class="ReportServer.Desktop.Views.TaskEditorView" xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation" xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml" xmlns:ns0="clr-namespace:ReportServer.Desktop.Views.WpfResources" xmlns:ns1="http://schemas.microsoft.com/xaml/behaviors" xmlns:ns2="clr-namespace:MahApps.Metro.Controls;assembly=MahApps.Metro" xmlns:ns3="http://metro.mahapps.com/winfx/xaml/iconpacks" xmlns:ns4="clr-namespace:Xceed.Wpf.Toolkit.PropertyGrid;assembly=Xceed.Wpf.Toolkit" xmlns:c="clr-namespace:ReportServer.Desktop.Views.WpfResources" xmlns:dd="clr-namespace:GongSolutions.Wpf.DragDrop;assembly=GongSolutions.Wpf.DragDrop" xmlns:ns5="clr-namespace:ReportServer.Desktop.AmmyExpression">
  <UserControl.Resources>
    <ResourceDictionary Source="WpfResources/TemplatesDictionary.xaml"/>
  </UserControl.Resources>
  <ScrollViewer VerticalScrollBarVisibility="Auto" HorizontalScrollBarVisibility="Auto">
    <Grid>
      <Grid.ColumnDefinitions>
        <ColumnDefinition Width="0.9*"/>
        <ColumnDefinition Width="auto"/>
        <ColumnDefinition/>
      </Grid.ColumnDefinitions>
      <Grid Column="0">
        <Grid.RowDefinitions>
          <RowDefinition Height="Auto"/>
          <RowDefinition Height="Auto"/>
          <RowDefinition Height="Auto"/>
          <RowDefinition Height="Auto"/>
          <RowDefinition Height="Auto"/>
          <RowDefinition Height="Auto"/>
          <RowDefinition Height="Auto"/>
          <RowDefinition Height="Auto"/>
          <RowDefinition Height="Auto"/>
          <RowDefinition/>
        </Grid.RowDefinitions>
        <Grid.ColumnDefinitions>
          <ColumnDefinition/>
          <ColumnDefinition Width="Auto"/>
        </Grid.ColumnDefinitions>
        <Grid Margin="2 2 2 10" Background="#F5F5F5">
          <Grid.ColumnDefinitions>
            <ColumnDefinition Width="Auto"/>
            <ColumnDefinition/>
          </Grid.ColumnDefinitions>
          <Button HorizontalAlignment="Right" Padding="5">
            <Button.Command>
              <Binding Path="OpenCurrentTaskViewCommand"/>
            </Button.Command>
            <Button.Visibility>
              <MultiBinding Converter="{StaticResource TaskIdAndRoleToVisMultiConverter}">
                <MultiBinding.Bindings>
                  <Binding Path="Shell.Role"/>
                  <Binding Path="Id"/>
                </MultiBinding.Bindings>
              </MultiBinding>
            </Button.Visibility>Get new instance
          </Button>
          <Label HorizontalContentAlignment="Left" VerticalContentAlignment="Center" FontWeight="DemiBold" Background="#F5F5F5" Margin="0" Content="Task data" Grid.Column="1"/>
        </Grid>
        <Grid Row="1">
          <Grid.IsEnabled>
            <Binding Path="Shell.Role" Converter="{x:Static ns5:ExpressionConverter.Instance}" ConverterParameter="&lt;expr id=&quot;3&quot;&gt;&lt;lambda isaction=&quot;False&quot;&gt;&lt;ternary&gt;&lt;binary op=&quot;Equal&quot;&gt;&lt;parameter name=&quot;type&quot; type=&quot;ReportServer.Desktop.Entities.ServiceUserRole&quot; /&gt;&lt;prim val=&quot;ReportServer.Desktop.Entities.ServiceUserRole.Editor&quot; isnull=&quot;False&quot;&gt;&lt;typeinfo typename=&quot;ReportServer.Desktop.Entities.ServiceUserRole&quot; isarray=&quot;False&quot;&gt;&lt;/typeinfo&gt;&lt;/prim&gt;&lt;/binary&gt;&lt;prim val=&quot;true&quot; isnull=&quot;False&quot;&gt;&lt;typeinfo typename=&quot;System.Boolean&quot; isarray=&quot;False&quot;&gt;&lt;/typeinfo&gt;&lt;/prim&gt;&lt;prim val=&quot;false&quot; isnull=&quot;False&quot;&gt;&lt;typeinfo typename=&quot;System.Boolean&quot; isarray=&quot;False&quot;&gt;&lt;/typeinfo&gt;&lt;/prim&gt;&lt;/ternary&gt;&lt;parameter name=&quot;type&quot; type=&quot;ReportServer.Desktop.Entities.ServiceUserRole&quot; /&gt;&lt;/lambda&gt;&lt;/expr&gt;"/>
          </Grid.IsEnabled>
          <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
          </Grid.RowDefinitions>
          <Grid.ColumnDefinitions>
            <ColumnDefinition Width="Auto"/>
            <ColumnDefinition Width="Auto"/>
          </Grid.ColumnDefinitions>
          <Label Background="White" Margin="28 0 0 0" Content="Name" Grid.Column="0" Grid.Row="0" Height="auto"/>
          <Border Grid.Column="1" Width="250" HorizontalAlignment="Left" Margin="3">
            <TextBox TextWrapping="NoWrap" Background="White" HorizontalAlignment="Stretch" AcceptsReturn="False" TextAlignment="Left">
              <TextBox.Text>
                <Binding Path="Name" UpdateSourceTrigger="PropertyChanged" ValidatesOnDataErrors="True"/>
              </TextBox.Text>
            </TextBox>
          </Border>
          <Grid Margin="3" Row="1">
            <Grid.ColumnDefinitions>
              <ColumnDefinition Width="Auto"/>
              <ColumnDefinition Width="Auto"/>
            </Grid.ColumnDefinitions>
            <CheckBox>
              <CheckBox.IsChecked>
                <Binding Path="HasSchedule"/>
              </CheckBox.IsChecked>
            </CheckBox>
            <Label Background="White" Margin="0" Content="Schedule" Grid.Column="1" Grid.Row="0" Height="auto"/>
          </Grid>
          <ComboBox Grid.Column="1" Grid.Row="1" Width="300" Margin="3" SelectedValuePath="Id" IsTextSearchEnabled="False" StaysOpenOnEdit="True" IsEditable="True" DisplayMemberPath="Name" c:ComboboxSearcher.PropertyFilter="Name">
            <ComboBox.IsEnabled>
              <Binding Path="HasSchedule"/>
            </ComboBox.IsEnabled>
            <ComboBox.ItemsSource>
              <Binding Path="Schedules" UpdateSourceTrigger="PropertyChanged" ValidatesOnDataErrors="True"/>
            </ComboBox.ItemsSource>
            <ComboBox.SelectedValue>
              <Binding Path="ScheduleId" UpdateSourceTrigger="PropertyChanged"/>
            </ComboBox.SelectedValue>
          </ComboBox>
        </Grid>
        <Grid Margin="0 15 0 0" Row="2">
          <Grid.ColumnDefinitions>
            <ColumnDefinition Width="*"/>
            <ColumnDefinition Width="Auto"/>
          </Grid.ColumnDefinitions>
          <Label HorizontalContentAlignment="Left" VerticalContentAlignment="Center" FontWeight="DemiBold" Background="#F5F5F5" Margin="0" Content="Dependencies"/>
          <Button HorizontalAlignment="Right" Grid.Column="1">
            <Button.Command>
              <Binding Path="AddDependenceCommand"/>
            </Button.Command>
            <Button.Visibility>
              <Binding Path="Shell.Role" Converter="{x:Static ns5:ExpressionConverter.Instance}" ConverterParameter="&lt;expr id=&quot;0&quot;&gt;&lt;lambda isaction=&quot;False&quot;&gt;&lt;ternary&gt;&lt;binary op=&quot;Equal&quot;&gt;&lt;parameter name=&quot;type&quot; type=&quot;ReportServer.Desktop.Entities.ServiceUserRole&quot; /&gt;&lt;prim val=&quot;ReportServer.Desktop.Entities.ServiceUserRole.Editor&quot; isnull=&quot;False&quot;&gt;&lt;typeinfo typename=&quot;ReportServer.Desktop.Entities.ServiceUserRole&quot; isarray=&quot;False&quot;&gt;&lt;/typeinfo&gt;&lt;/prim&gt;&lt;/binary&gt;&lt;prim val=&quot;System.Windows.Visibility.Visible&quot; isnull=&quot;False&quot;&gt;&lt;typeinfo typename=&quot;System.Windows.Visibility&quot; isarray=&quot;False&quot;&gt;&lt;/typeinfo&gt;&lt;/prim&gt;&lt;prim val=&quot;System.Windows.Visibility.Collapsed&quot; isnull=&quot;False&quot;&gt;&lt;typeinfo typename=&quot;System.Windows.Visibility&quot; isarray=&quot;False&quot;&gt;&lt;/typeinfo&gt;&lt;/prim&gt;&lt;/ternary&gt;&lt;parameter name=&quot;type&quot; type=&quot;ReportServer.Desktop.Entities.ServiceUserRole&quot; /&gt;&lt;/lambda&gt;&lt;/expr&gt;"/>
            </Button.Visibility>Add dependence
          </Button>
        </Grid>
        <ListView BorderThickness="0" Grid.Row="3" HorizontalAlignment="Stretch" MaxHeight="350" Width="Auto" Focusable="False" ScrollViewer.CanContentScroll="True">
          <ListView.IsEnabled>
            <Binding Path="Shell.Role" Converter="{x:Static ns5:ExpressionConverter.Instance}" ConverterParameter="&lt;expr id=&quot;3&quot;&gt;&lt;lambda isaction=&quot;False&quot;&gt;&lt;ternary&gt;&lt;binary op=&quot;Equal&quot;&gt;&lt;parameter name=&quot;type&quot; type=&quot;ReportServer.Desktop.Entities.ServiceUserRole&quot; /&gt;&lt;prim val=&quot;ReportServer.Desktop.Entities.ServiceUserRole.Editor&quot; isnull=&quot;False&quot;&gt;&lt;typeinfo typename=&quot;ReportServer.Desktop.Entities.ServiceUserRole&quot; isarray=&quot;False&quot;&gt;&lt;/typeinfo&gt;&lt;/prim&gt;&lt;/binary&gt;&lt;prim val=&quot;true&quot; isnull=&quot;False&quot;&gt;&lt;typeinfo typename=&quot;System.Boolean&quot; isarray=&quot;False&quot;&gt;&lt;/typeinfo&gt;&lt;/prim&gt;&lt;prim val=&quot;false&quot; isnull=&quot;False&quot;&gt;&lt;typeinfo typename=&quot;System.Boolean&quot; isarray=&quot;False&quot;&gt;&lt;/typeinfo&gt;&lt;/prim&gt;&lt;/ternary&gt;&lt;parameter name=&quot;type&quot; type=&quot;ReportServer.Desktop.Entities.ServiceUserRole&quot; /&gt;&lt;/lambda&gt;&lt;/expr&gt;"/>
          </ListView.IsEnabled>
          <ListView.ItemsSource>
            <Binding Path="TaskDependencies" UpdateSourceTrigger="PropertyChanged" ValidatesOnDataErrors="True"/>
          </ListView.ItemsSource>
          <ListView.ItemTemplate>
            <DataTemplate>
              <Border BorderThickness="1" BorderBrush="#F5F5F5">
                <Grid Height="auto">
                  <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition/>
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition/>
                    <ColumnDefinition Width="Auto"/>
                  </Grid.ColumnDefinitions>
                  <TextBlock Background="White" Margin="10 0 5 0" Text="Task"/>
                  <Border MaxWidth="350" Grid.Column="1" BorderThickness="1" BorderBrush="#F5F5F5">
                    <ComboBox Grid.Column="1" Grid.Row="1" Width="340" Margin="3" SelectedValuePath="Id" DisplayMemberPath="Name" IsTextSearchEnabled="True" StaysOpenOnEdit="True" IsEditable="True" IsTextSearchCaseSensitive="False" IsSynchronizedWithCurrentItem="False" c:ComboboxSearcher.PropertyFilter="Name">
                      <ComboBox.ItemsSource>
                        <Binding Path="Tasks" UpdateSourceTrigger="PropertyChanged"/>
                      </ComboBox.ItemsSource>
                      <ComboBox.SelectedValue>
                        <Binding Path="TaskId"/>
                      </ComboBox.SelectedValue>
                    </ComboBox>
                  </Border>
                  <TextBlock Margin="10 0 5 0" Padding="5" Grid.Column="2" Text="Max elapsed"/>
                  <Border Grid.Column="3" BorderThickness="1" MaxWidth="340" BorderBrush="#F5F5F5">
                    <TextBox TextWrapping="NoWrap" Background="White" HorizontalAlignment="Stretch" AcceptsReturn="False" TextAlignment="Left" MaxWidth="340" BorderThickness="0" ns2:TextBoxHelper.Watermark="Time (seconds) from last successeful execution">
                      <TextBox.Text>
                        <Binding Path="MaxSecondsPassed" UpdateSourceTrigger="PropertyChanged" ValidatesOnDataErrors="True"/>
                      </TextBox.Text>
                      <ns1:Interaction.Behaviors>
                        <ns0:TextBoxInputBehavior InputMode="NullableDigitInput"/>
                      </ns1:Interaction.Behaviors>
                    </TextBox>
                  </Border>
                  <Button Grid.Column="4" Width="40" Margin="2">
                    <Button.Visibility>
                      <Binding Path="DataContext.Shell.Role" RelativeSource="{RelativeSource FindAncestor, AncestorType={x:Type ListView}}" Converter="{x:Static ns5:ExpressionConverter.Instance}" ConverterParameter="&lt;expr id=&quot;0&quot;&gt;&lt;lambda isaction=&quot;False&quot;&gt;&lt;ternary&gt;&lt;binary op=&quot;Equal&quot;&gt;&lt;parameter name=&quot;type&quot; type=&quot;ReportServer.Desktop.Entities.ServiceUserRole&quot; /&gt;&lt;prim val=&quot;ReportServer.Desktop.Entities.ServiceUserRole.Editor&quot; isnull=&quot;False&quot;&gt;&lt;typeinfo typename=&quot;ReportServer.Desktop.Entities.ServiceUserRole&quot; isarray=&quot;False&quot;&gt;&lt;/typeinfo&gt;&lt;/prim&gt;&lt;/binary&gt;&lt;prim val=&quot;System.Windows.Visibility.Visible&quot; isnull=&quot;False&quot;&gt;&lt;typeinfo typename=&quot;System.Windows.Visibility&quot; isarray=&quot;False&quot;&gt;&lt;/typeinfo&gt;&lt;/prim&gt;&lt;prim val=&quot;System.Windows.Visibility.Collapsed&quot; isnull=&quot;False&quot;&gt;&lt;typeinfo typename=&quot;System.Windows.Visibility&quot; isarray=&quot;False&quot;&gt;&lt;/typeinfo&gt;&lt;/prim&gt;&lt;/ternary&gt;&lt;parameter name=&quot;type&quot; type=&quot;ReportServer.Desktop.Entities.ServiceUserRole&quot; /&gt;&lt;/lambda&gt;&lt;/expr&gt;"/>
                    </Button.Visibility>
                    <Button.Command>
                      <Binding Path="DataContext.RemoveDependenceCommand" RelativeSource="{RelativeSource FindAncestor, AncestorType={x:Type ListView}}"/>
                    </Button.Command>
                    <Button.CommandParameter>
                      <Binding/>
                    </Button.CommandParameter>
                    <Button.Content>
                      <ns3:PackIconMaterial Kind="CloseOctagon"/>
                    </Button.Content>
                  </Button>
                </Grid>
              </Border>
            </DataTemplate>
          </ListView.ItemTemplate>
        </ListView>
        <Grid Margin="0 15 0 0" Row="4">
          <Grid.ColumnDefinitions>
            <ColumnDefinition Width="*"/>
            <ColumnDefinition Width="Auto"/>
          </Grid.ColumnDefinitions>
          <Label HorizontalContentAlignment="Left" VerticalContentAlignment="Center" FontWeight="DemiBold" Background="#F5F5F5" Margin="0" Content="Parameters"/>
          <Button HorizontalAlignment="Right" Grid.Column="1">
            <Button.Command>
              <Binding Path="AddParameterCommand"/>
            </Button.Command>
            <Button.Visibility>
              <Binding Path="Shell.Role" Converter="{x:Static ns5:ExpressionConverter.Instance}" ConverterParameter="&lt;expr id=&quot;0&quot;&gt;&lt;lambda isaction=&quot;False&quot;&gt;&lt;ternary&gt;&lt;binary op=&quot;Equal&quot;&gt;&lt;parameter name=&quot;type&quot; type=&quot;ReportServer.Desktop.Entities.ServiceUserRole&quot; /&gt;&lt;prim val=&quot;ReportServer.Desktop.Entities.ServiceUserRole.Editor&quot; isnull=&quot;False&quot;&gt;&lt;typeinfo typename=&quot;ReportServer.Desktop.Entities.ServiceUserRole&quot; isarray=&quot;False&quot;&gt;&lt;/typeinfo&gt;&lt;/prim&gt;&lt;/binary&gt;&lt;prim val=&quot;System.Windows.Visibility.Visible&quot; isnull=&quot;False&quot;&gt;&lt;typeinfo typename=&quot;System.Windows.Visibility&quot; isarray=&quot;False&quot;&gt;&lt;/typeinfo&gt;&lt;/prim&gt;&lt;prim val=&quot;System.Windows.Visibility.Collapsed&quot; isnull=&quot;False&quot;&gt;&lt;typeinfo typename=&quot;System.Windows.Visibility&quot; isarray=&quot;False&quot;&gt;&lt;/typeinfo&gt;&lt;/prim&gt;&lt;/ternary&gt;&lt;parameter name=&quot;type&quot; type=&quot;ReportServer.Desktop.Entities.ServiceUserRole&quot; /&gt;&lt;/lambda&gt;&lt;/expr&gt;"/>
            </Button.Visibility>Add parameter
          </Button>
        </Grid>
        <ListView BorderThickness="0" Grid.Row="5" HorizontalAlignment="Stretch" MaxHeight="350" Width="Auto" Focusable="False" ScrollViewer.CanContentScroll="True">
          <ListView.IsEnabled>
            <Binding Path="Shell.Role" Converter="{x:Static ns5:ExpressionConverter.Instance}" ConverterParameter="&lt;expr id=&quot;3&quot;&gt;&lt;lambda isaction=&quot;False&quot;&gt;&lt;ternary&gt;&lt;binary op=&quot;Equal&quot;&gt;&lt;parameter name=&quot;type&quot; type=&quot;ReportServer.Desktop.Entities.ServiceUserRole&quot; /&gt;&lt;prim val=&quot;ReportServer.Desktop.Entities.ServiceUserRole.Editor&quot; isnull=&quot;False&quot;&gt;&lt;typeinfo typename=&quot;ReportServer.Desktop.Entities.ServiceUserRole&quot; isarray=&quot;False&quot;&gt;&lt;/typeinfo&gt;&lt;/prim&gt;&lt;/binary&gt;&lt;prim val=&quot;true&quot; isnull=&quot;False&quot;&gt;&lt;typeinfo typename=&quot;System.Boolean&quot; isarray=&quot;False&quot;&gt;&lt;/typeinfo&gt;&lt;/prim&gt;&lt;prim val=&quot;false&quot; isnull=&quot;False&quot;&gt;&lt;typeinfo typename=&quot;System.Boolean&quot; isarray=&quot;False&quot;&gt;&lt;/typeinfo&gt;&lt;/prim&gt;&lt;/ternary&gt;&lt;parameter name=&quot;type&quot; type=&quot;ReportServer.Desktop.Entities.ServiceUserRole&quot; /&gt;&lt;/lambda&gt;&lt;/expr&gt;"/>
          </ListView.IsEnabled>
          <ListView.ItemsSource>
            <Binding Path="TaskParameters" UpdateSourceTrigger="PropertyChanged" ValidatesOnDataErrors="True"/>
          </ListView.ItemsSource>
          <ListView.ItemTemplate>
            <DataTemplate>
              <Border BorderThickness="1" BorderBrush="#F5F5F5">
                <Grid Height="auto">
                  <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition/>
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition/>
                    <ColumnDefinition Width="Auto"/>
                  </Grid.ColumnDefinitions>
                  <TextBlock Background="White" Margin="10 0 5 0" Text="Parameter name"/>
                  <Border MaxWidth="305" Grid.Column="1" BorderThickness="1" BorderBrush="#F5F5F5">
                    <TextBox TextWrapping="NoWrap" Background="White" HorizontalAlignment="Stretch" AcceptsReturn="False" TextAlignment="Left" BorderThickness="0" ns2:TextBoxHelper.Watermark="Enter parameter name starting with @RepPar">
                      <TextBox.Text>
                        <Binding Path="Name" UpdateSourceTrigger="PropertyChanged" ValidatesOnDataErrors="True"/>
                      </TextBox.Text>
                    </TextBox>
                  </Border>
                  <Button Grid.Column="2">
                    <Button.Visibility>
                      <Binding Path="DataContext.Shell.Role" RelativeSource="{RelativeSource FindAncestor, AncestorType={x:Type ListView}}" Converter="{x:Static ns5:ExpressionConverter.Instance}" ConverterParameter="&lt;expr id=&quot;0&quot;&gt;&lt;lambda isaction=&quot;False&quot;&gt;&lt;ternary&gt;&lt;binary op=&quot;Equal&quot;&gt;&lt;parameter name=&quot;type&quot; type=&quot;ReportServer.Desktop.Entities.ServiceUserRole&quot; /&gt;&lt;prim val=&quot;ReportServer.Desktop.Entities.ServiceUserRole.Editor&quot; isnull=&quot;False&quot;&gt;&lt;typeinfo typename=&quot;ReportServer.Desktop.Entities.ServiceUserRole&quot; isarray=&quot;False&quot;&gt;&lt;/typeinfo&gt;&lt;/prim&gt;&lt;/binary&gt;&lt;prim val=&quot;System.Windows.Visibility.Visible&quot; isnull=&quot;False&quot;&gt;&lt;typeinfo typename=&quot;System.Windows.Visibility&quot; isarray=&quot;False&quot;&gt;&lt;/typeinfo&gt;&lt;/prim&gt;&lt;prim val=&quot;System.Windows.Visibility.Collapsed&quot; isnull=&quot;False&quot;&gt;&lt;typeinfo typename=&quot;System.Windows.Visibility&quot; isarray=&quot;False&quot;&gt;&lt;/typeinfo&gt;&lt;/prim&gt;&lt;/ternary&gt;&lt;parameter name=&quot;type&quot; type=&quot;ReportServer.Desktop.Entities.ServiceUserRole&quot; /&gt;&lt;/lambda&gt;&lt;/expr&gt;"/>
                    </Button.Visibility>
                    <Button.Command>
                      <Binding Path="DataContext.ClipBoardFillCommand" RelativeSource="{RelativeSource FindAncestor, AncestorType={x:Type ListView}}"/>
                    </Button.Command>
                    <Button.CommandParameter>
                      <Binding Path="Name"/>
                    </Button.CommandParameter>
                    <Button.Content>
                      <ns3:PackIconMaterial Kind="ContentCopy"/>
                    </Button.Content>
                  </Button>
                  <TextBlock Margin="10 0 5 0" Padding="5" Grid.Column="3" Text="Parameter value"/>
                  <Border Grid.Column="4" BorderThickness="1" MaxWidth="305" BorderBrush="#F5F5F5">
                    <TextBox TextWrapping="NoWrap" Background="White" HorizontalAlignment="Stretch" AcceptsReturn="False" TextAlignment="Left" MaxWidth="305" BorderThickness="0" ns2:TextBoxHelper.Watermark="Enter parameter value">
                      <TextBox.Text>
                        <Binding Path="Value" UpdateSourceTrigger="PropertyChanged" ValidatesOnDataErrors="True"/>
                      </TextBox.Text>
                    </TextBox>
                  </Border>
                  <Button Grid.Column="5" Width="40" Margin="2">
                    <Button.Visibility>
                      <Binding Path="DataContext.Shell.Role" RelativeSource="{RelativeSource FindAncestor, AncestorType={x:Type ListView}}" Converter="{x:Static ns5:ExpressionConverter.Instance}" ConverterParameter="&lt;expr id=&quot;0&quot;&gt;&lt;lambda isaction=&quot;False&quot;&gt;&lt;ternary&gt;&lt;binary op=&quot;Equal&quot;&gt;&lt;parameter name=&quot;type&quot; type=&quot;ReportServer.Desktop.Entities.ServiceUserRole&quot; /&gt;&lt;prim val=&quot;ReportServer.Desktop.Entities.ServiceUserRole.Editor&quot; isnull=&quot;False&quot;&gt;&lt;typeinfo typename=&quot;ReportServer.Desktop.Entities.ServiceUserRole&quot; isarray=&quot;False&quot;&gt;&lt;/typeinfo&gt;&lt;/prim&gt;&lt;/binary&gt;&lt;prim val=&quot;System.Windows.Visibility.Visible&quot; isnull=&quot;False&quot;&gt;&lt;typeinfo typename=&quot;System.Windows.Visibility&quot; isarray=&quot;False&quot;&gt;&lt;/typeinfo&gt;&lt;/prim&gt;&lt;prim val=&quot;System.Windows.Visibility.Collapsed&quot; isnull=&quot;False&quot;&gt;&lt;typeinfo typename=&quot;System.Windows.Visibility&quot; isarray=&quot;False&quot;&gt;&lt;/typeinfo&gt;&lt;/prim&gt;&lt;/ternary&gt;&lt;parameter name=&quot;type&quot; type=&quot;ReportServer.Desktop.Entities.ServiceUserRole&quot; /&gt;&lt;/lambda&gt;&lt;/expr&gt;"/>
                    </Button.Visibility>
                    <Button.Command>
                      <Binding Path="DataContext.RemoveParameterCommand" RelativeSource="{RelativeSource FindAncestor, AncestorType={x:Type ListView}}"/>
                    </Button.Command>
                    <Button.CommandParameter>
                      <Binding/>
                    </Button.CommandParameter>
                    <Button.Content>
                      <ns3:PackIconMaterial Kind="CloseOctagon"/>
                    </Button.Content>
                  </Button>
                </Grid>
              </Border>
            </DataTemplate>
          </ListView.ItemTemplate>
        </ListView>
        <Grid Margin="0 15 0 0" Row="6">
          <Grid.ColumnDefinitions>
            <ColumnDefinition Width="*"/>
            <ColumnDefinition Width="Auto"/>
            <ColumnDefinition Width="Auto"/>
          </Grid.ColumnDefinitions>
          <Label HorizontalContentAlignment="Left" VerticalContentAlignment="Center" FontWeight="DemiBold" Background="#F5F5F5" Margin="0" Content="Operations"/>
          <Button HorizontalAlignment="Right" Grid.Column="1" Grid.Row="2">
            <Button.Visibility>
              <Binding Path="Shell.Role" Converter="{x:Static ns5:ExpressionConverter.Instance}" ConverterParameter="&lt;expr id=&quot;0&quot;&gt;&lt;lambda isaction=&quot;False&quot;&gt;&lt;ternary&gt;&lt;binary op=&quot;Equal&quot;&gt;&lt;parameter name=&quot;type&quot; type=&quot;ReportServer.Desktop.Entities.ServiceUserRole&quot; /&gt;&lt;prim val=&quot;ReportServer.Desktop.Entities.ServiceUserRole.Editor&quot; isnull=&quot;False&quot;&gt;&lt;typeinfo typename=&quot;ReportServer.Desktop.Entities.ServiceUserRole&quot; isarray=&quot;False&quot;&gt;&lt;/typeinfo&gt;&lt;/prim&gt;&lt;/binary&gt;&lt;prim val=&quot;System.Windows.Visibility.Visible&quot; isnull=&quot;False&quot;&gt;&lt;typeinfo typename=&quot;System.Windows.Visibility&quot; isarray=&quot;False&quot;&gt;&lt;/typeinfo&gt;&lt;/prim&gt;&lt;prim val=&quot;System.Windows.Visibility.Collapsed&quot; isnull=&quot;False&quot;&gt;&lt;typeinfo typename=&quot;System.Windows.Visibility&quot; isarray=&quot;False&quot;&gt;&lt;/typeinfo&gt;&lt;/prim&gt;&lt;/ternary&gt;&lt;parameter name=&quot;type&quot; type=&quot;ReportServer.Desktop.Entities.ServiceUserRole&quot; /&gt;&lt;/lambda&gt;&lt;/expr&gt;"/>
            </Button.Visibility>
            <Button.Command>
              <Binding Path="OpenTemplatesListCommand"/>
            </Button.Command>Add from existing
          </Button>
          <Button Grid.Column="2" Grid.Row="2">
            <Button.Visibility>
              <Binding Path="Shell.Role" Converter="{x:Static ns5:ExpressionConverter.Instance}" ConverterParameter="&lt;expr id=&quot;0&quot;&gt;&lt;lambda isaction=&quot;False&quot;&gt;&lt;ternary&gt;&lt;binary op=&quot;Equal&quot;&gt;&lt;parameter name=&quot;type&quot; type=&quot;ReportServer.Desktop.Entities.ServiceUserRole&quot; /&gt;&lt;prim val=&quot;ReportServer.Desktop.Entities.ServiceUserRole.Editor&quot; isnull=&quot;False&quot;&gt;&lt;typeinfo typename=&quot;ReportServer.Desktop.Entities.ServiceUserRole&quot; isarray=&quot;False&quot;&gt;&lt;/typeinfo&gt;&lt;/prim&gt;&lt;/binary&gt;&lt;prim val=&quot;System.Windows.Visibility.Visible&quot; isnull=&quot;False&quot;&gt;&lt;typeinfo typename=&quot;System.Windows.Visibility&quot; isarray=&quot;False&quot;&gt;&lt;/typeinfo&gt;&lt;/prim&gt;&lt;prim val=&quot;System.Windows.Visibility.Collapsed&quot; isnull=&quot;False&quot;&gt;&lt;typeinfo typename=&quot;System.Windows.Visibility&quot; isarray=&quot;False&quot;&gt;&lt;/typeinfo&gt;&lt;/prim&gt;&lt;/ternary&gt;&lt;parameter name=&quot;type&quot; type=&quot;ReportServer.Desktop.Entities.ServiceUserRole&quot; /&gt;&lt;/lambda&gt;&lt;/expr&gt;"/>
            </Button.Visibility>
            <Button.Command>
              <Binding Path="CreateOperConfigCommand"/>
            </Button.Command>Add new config
          </Button>
        </Grid>
        <ListView BorderThickness="0" Grid.Row="7" dd:DragDrop.IsDragSource="True" dd:DragDrop.IsDropTarget="True" dd:DragDrop.UseDefaultEffectDataTemplate="True" HorizontalAlignment="Stretch" MaxHeight="350" ScrollViewer.CanContentScroll="True">
          <ListView.ItemsSource>
            <Binding Path="BindedOpers" UpdateSourceTrigger="PropertyChanged"/>
          </ListView.ItemsSource>
          <ListView.ItemTemplate>
            <DataTemplate>
              <Border BorderThickness="1" BorderBrush="#F5F5F5">
                <Grid Height="auto">
                  <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition/>
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition Width="Auto"/>
                  </Grid.ColumnDefinitions>
                  <TextBlock Background="White" Margin="10 0 0 0" Text="Use as default">
                    <TextBlock.Visibility>
                      <Binding Path="DataContext.Shell.Role" RelativeSource="{RelativeSource FindAncestor, AncestorType={x:Type ListView}}" Converter="{x:Static ns5:ExpressionConverter.Instance}" ConverterParameter="&lt;expr id=&quot;0&quot;&gt;&lt;lambda isaction=&quot;False&quot;&gt;&lt;ternary&gt;&lt;binary op=&quot;Equal&quot;&gt;&lt;parameter name=&quot;type&quot; type=&quot;ReportServer.Desktop.Entities.ServiceUserRole&quot; /&gt;&lt;prim val=&quot;ReportServer.Desktop.Entities.ServiceUserRole.Editor&quot; isnull=&quot;False&quot;&gt;&lt;typeinfo typename=&quot;ReportServer.Desktop.Entities.ServiceUserRole&quot; isarray=&quot;False&quot;&gt;&lt;/typeinfo&gt;&lt;/prim&gt;&lt;/binary&gt;&lt;prim val=&quot;System.Windows.Visibility.Visible&quot; isnull=&quot;False&quot;&gt;&lt;typeinfo typename=&quot;System.Windows.Visibility&quot; isarray=&quot;False&quot;&gt;&lt;/typeinfo&gt;&lt;/prim&gt;&lt;prim val=&quot;System.Windows.Visibility.Collapsed&quot; isnull=&quot;False&quot;&gt;&lt;typeinfo typename=&quot;System.Windows.Visibility&quot; isarray=&quot;False&quot;&gt;&lt;/typeinfo&gt;&lt;/prim&gt;&lt;/ternary&gt;&lt;parameter name=&quot;type&quot; type=&quot;ReportServer.Desktop.Entities.ServiceUserRole&quot; /&gt;&lt;/lambda&gt;&lt;/expr&gt;"/>
                    </TextBlock.Visibility>
                  </TextBlock>
                  <CheckBox Grid.Column="1">
                    <CheckBox.Visibility>
                      <Binding Path="DataContext.Shell.Role" RelativeSource="{RelativeSource FindAncestor, AncestorType={x:Type ListView}}" Converter="{x:Static ns5:ExpressionConverter.Instance}" ConverterParameter="&lt;expr id=&quot;0&quot;&gt;&lt;lambda isaction=&quot;False&quot;&gt;&lt;ternary&gt;&lt;binary op=&quot;Equal&quot;&gt;&lt;parameter name=&quot;type&quot; type=&quot;ReportServer.Desktop.Entities.ServiceUserRole&quot; /&gt;&lt;prim val=&quot;ReportServer.Desktop.Entities.ServiceUserRole.Editor&quot; isnull=&quot;False&quot;&gt;&lt;typeinfo typename=&quot;ReportServer.Desktop.Entities.ServiceUserRole&quot; isarray=&quot;False&quot;&gt;&lt;/typeinfo&gt;&lt;/prim&gt;&lt;/binary&gt;&lt;prim val=&quot;System.Windows.Visibility.Visible&quot; isnull=&quot;False&quot;&gt;&lt;typeinfo typename=&quot;System.Windows.Visibility&quot; isarray=&quot;False&quot;&gt;&lt;/typeinfo&gt;&lt;/prim&gt;&lt;prim val=&quot;System.Windows.Visibility.Collapsed&quot; isnull=&quot;False&quot;&gt;&lt;typeinfo typename=&quot;System.Windows.Visibility&quot; isarray=&quot;False&quot;&gt;&lt;/typeinfo&gt;&lt;/prim&gt;&lt;/ternary&gt;&lt;parameter name=&quot;type&quot; type=&quot;ReportServer.Desktop.Entities.ServiceUserRole&quot; /&gt;&lt;/lambda&gt;&lt;/expr&gt;"/>
                    </CheckBox.Visibility>
                    <CheckBox.IsChecked>
                      <Binding Path="IsDefault"/>
                    </CheckBox.IsChecked>
                  </CheckBox>
                  <TextBlock Padding="5" Grid.Column="2" Text="{Binding Path=Name, UpdateSourceTrigger=PropertyChanged}">
                    <TextBlock.InputBindings>
                      <MouseBinding MouseAction="LeftDoubleClick">
                        <MouseBinding.Command>
                          <Binding Path="DataContext.SelectOperationCommand" RelativeSource="{RelativeSource FindAncestor, AncestorType={x:Type ListView}}"/>
                        </MouseBinding.Command>
                        <MouseBinding.CommandParameter>
                          <Binding/>
                        </MouseBinding.CommandParameter>
                      </MouseBinding>
                    </TextBlock.InputBindings>
                  </TextBlock>
                  <Button Grid.Column="3" Width="40" Margin="2">
                    <Button.Visibility>
                      <Binding Path="DataContext.Shell.Role" RelativeSource="{RelativeSource FindAncestor, AncestorType={x:Type ListView}}" Converter="{x:Static ns5:ExpressionConverter.Instance}" ConverterParameter="&lt;expr id=&quot;0&quot;&gt;&lt;lambda isaction=&quot;False&quot;&gt;&lt;ternary&gt;&lt;binary op=&quot;Equal&quot;&gt;&lt;parameter name=&quot;type&quot; type=&quot;ReportServer.Desktop.Entities.ServiceUserRole&quot; /&gt;&lt;prim val=&quot;ReportServer.Desktop.Entities.ServiceUserRole.Editor&quot; isnull=&quot;False&quot;&gt;&lt;typeinfo typename=&quot;ReportServer.Desktop.Entities.ServiceUserRole&quot; isarray=&quot;False&quot;&gt;&lt;/typeinfo&gt;&lt;/prim&gt;&lt;/binary&gt;&lt;prim val=&quot;System.Windows.Visibility.Visible&quot; isnull=&quot;False&quot;&gt;&lt;typeinfo typename=&quot;System.Windows.Visibility&quot; isarray=&quot;False&quot;&gt;&lt;/typeinfo&gt;&lt;/prim&gt;&lt;prim val=&quot;System.Windows.Visibility.Collapsed&quot; isnull=&quot;False&quot;&gt;&lt;typeinfo typename=&quot;System.Windows.Visibility&quot; isarray=&quot;False&quot;&gt;&lt;/typeinfo&gt;&lt;/prim&gt;&lt;/ternary&gt;&lt;parameter name=&quot;type&quot; type=&quot;ReportServer.Desktop.Entities.ServiceUserRole&quot; /&gt;&lt;/lambda&gt;&lt;/expr&gt;"/>
                    </Button.Visibility>
                    <Button.Content>
                      <ns3:PackIconModern Kind="CursorHand"/>
                    </Button.Content>
                  </Button>
                  <Button Grid.Column="4" Width="40" Margin="2">
                    <Button.Visibility>
                      <Binding Path="DataContext.Shell.Role" RelativeSource="{RelativeSource FindAncestor, AncestorType={x:Type ListView}}" Converter="{x:Static ns5:ExpressionConverter.Instance}" ConverterParameter="&lt;expr id=&quot;0&quot;&gt;&lt;lambda isaction=&quot;False&quot;&gt;&lt;ternary&gt;&lt;binary op=&quot;Equal&quot;&gt;&lt;parameter name=&quot;type&quot; type=&quot;ReportServer.Desktop.Entities.ServiceUserRole&quot; /&gt;&lt;prim val=&quot;ReportServer.Desktop.Entities.ServiceUserRole.Editor&quot; isnull=&quot;False&quot;&gt;&lt;typeinfo typename=&quot;ReportServer.Desktop.Entities.ServiceUserRole&quot; isarray=&quot;False&quot;&gt;&lt;/typeinfo&gt;&lt;/prim&gt;&lt;/binary&gt;&lt;prim val=&quot;System.Windows.Visibility.Visible&quot; isnull=&quot;False&quot;&gt;&lt;typeinfo typename=&quot;System.Windows.Visibility&quot; isarray=&quot;False&quot;&gt;&lt;/typeinfo&gt;&lt;/prim&gt;&lt;prim val=&quot;System.Windows.Visibility.Collapsed&quot; isnull=&quot;False&quot;&gt;&lt;typeinfo typename=&quot;System.Windows.Visibility&quot; isarray=&quot;False&quot;&gt;&lt;/typeinfo&gt;&lt;/prim&gt;&lt;/ternary&gt;&lt;parameter name=&quot;type&quot; type=&quot;ReportServer.Desktop.Entities.ServiceUserRole&quot; /&gt;&lt;/lambda&gt;&lt;/expr&gt;"/>
                    </Button.Visibility>
                    <Button.Command>
                      <Binding Path="DataContext.RemoveOperationCommand" RelativeSource="{RelativeSource FindAncestor, AncestorType={x:Type ListView}}"/>
                    </Button.Command>
                    <Button.CommandParameter>
                      <Binding/>
                    </Button.CommandParameter>
                    <Button.Content>
                      <ns3:PackIconMaterial Kind="CloseOctagon"/>
                    </Button.Content>
                  </Button>
                </Grid>
              </Border>
            </DataTemplate>
          </ListView.ItemTemplate>
        </ListView>
        <Grid Row="8" Margin="0 0 0 50">
          <Grid.ColumnDefinitions>
            <ColumnDefinition/>
            <ColumnDefinition Width="0.4*"/>
          </Grid.ColumnDefinitions>
          <StackPanel Grid.Column="1" Orientation="Horizontal">
            <Button Width="100">
              <Button.Visibility>
                <Binding Path="Shell.Role" Converter="{x:Static ns5:ExpressionConverter.Instance}" ConverterParameter="&lt;expr id=&quot;0&quot;&gt;&lt;lambda isaction=&quot;False&quot;&gt;&lt;ternary&gt;&lt;binary op=&quot;Equal&quot;&gt;&lt;parameter name=&quot;type&quot; type=&quot;ReportServer.Desktop.Entities.ServiceUserRole&quot; /&gt;&lt;prim val=&quot;ReportServer.Desktop.Entities.ServiceUserRole.Editor&quot; isnull=&quot;False&quot;&gt;&lt;typeinfo typename=&quot;ReportServer.Desktop.Entities.ServiceUserRole&quot; isarray=&quot;False&quot;&gt;&lt;/typeinfo&gt;&lt;/prim&gt;&lt;/binary&gt;&lt;prim val=&quot;System.Windows.Visibility.Visible&quot; isnull=&quot;False&quot;&gt;&lt;typeinfo typename=&quot;System.Windows.Visibility&quot; isarray=&quot;False&quot;&gt;&lt;/typeinfo&gt;&lt;/prim&gt;&lt;prim val=&quot;System.Windows.Visibility.Collapsed&quot; isnull=&quot;False&quot;&gt;&lt;typeinfo typename=&quot;System.Windows.Visibility&quot; isarray=&quot;False&quot;&gt;&lt;/typeinfo&gt;&lt;/prim&gt;&lt;/ternary&gt;&lt;parameter name=&quot;type&quot; type=&quot;ReportServer.Desktop.Entities.ServiceUserRole&quot; /&gt;&lt;/lambda&gt;&lt;/expr&gt;"/>
              </Button.Visibility>
              <Button.Command>
                <Binding Path="SaveChangesCommand"/>
              </Button.Command>Save
            </Button>
            <Button Width="100">
              <Button.Command>
                <Binding Path="CancelCommand"/>
              </Button.Command>Cancel
            </Button>
          </StackPanel>
        </Grid>
      </Grid>
      <GridSplitter Grid.Column="1" HorizontalAlignment="Center" Width="3" ShowsPreview="False" VerticalAlignment="Stretch"/>
      <Grid Column="2" Visibility="{Binding SelectedOperationConfig,Converter={StaticResource NullToVisibility}}">
        <Grid.RowDefinitions>
          <RowDefinition Height="Auto"/>
          <RowDefinition Height="Auto"/>
          <RowDefinition Height="Auto"/>
          <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>
        <Grid>
          <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
          </Grid.RowDefinitions>
          <Grid.ColumnDefinitions>
            <ColumnDefinition Width="Auto"/>
            <ColumnDefinition Width="Auto"/>
          </Grid.ColumnDefinitions>
          <Grid.Visibility>
            <Binding Path="Type" Converter="{x:Static ns5:ExpressionConverter.Instance}" ConverterParameter="&lt;expr id=&quot;4&quot;&gt;&lt;lambda isaction=&quot;False&quot;&gt;&lt;ternary&gt;&lt;staticcall method=&quot;IsNullOrEmpty&quot;&gt;&lt;typeinfo typename=&quot;System.String&quot; isarray=&quot;False&quot;&gt;&lt;/typeinfo&gt;&lt;parameter name=&quot;type&quot; type=&quot;System.String&quot; /&gt;&lt;/staticcall&gt;&lt;prim val=&quot;System.Windows.Visibility.Collapsed&quot; isnull=&quot;False&quot;&gt;&lt;typeinfo typename=&quot;System.Windows.Visibility&quot; isarray=&quot;False&quot;&gt;&lt;/typeinfo&gt;&lt;/prim&gt;&lt;prim val=&quot;System.Windows.Visibility.Visible&quot; isnull=&quot;False&quot;&gt;&lt;typeinfo typename=&quot;System.Windows.Visibility&quot; isarray=&quot;False&quot;&gt;&lt;/typeinfo&gt;&lt;/prim&gt;&lt;/ternary&gt;&lt;parameter name=&quot;type&quot; type=&quot;System.String&quot; /&gt;&lt;/lambda&gt;&lt;/expr&gt;"/>
          </Grid.Visibility>
          <Label Background="White" Margin="18 3 3 3" Content="Mode" Grid.Column="0" Grid.Row="0" Height="auto"/>
          <ComboBox Grid.Column="1" Margin="3" Width="250" HorizontalAlignment="Left">
            <ComboBox.ItemsSource>
              <Binding Source="{StaticResource OperModeEnum}"/>
            </ComboBox.ItemsSource>
            <ComboBox.SelectedValue>
              <Binding Path="Mode"/>
            </ComboBox.SelectedValue>
          </ComboBox>
          <Label Background="White" Margin="18 3 3 3" Content="Type" Grid.Column="0" Grid.Row="1" Height="auto"/>
          <ComboBox Background="White" Grid.Column="1" Grid.Row="1" Margin="3" Width="250" HorizontalAlignment="Left">
            <ComboBox.SelectedItem>
              <Binding Path="Type"/>
            </ComboBox.SelectedItem>
            <ComboBox.ItemsSource>
              <Binding Path="ImplementationTypes"/>
            </ComboBox.ItemsSource>
          </ComboBox>
        </Grid>
        <Grid Row="1">
          <Grid.ColumnDefinitions>
            <ColumnDefinition Width="Auto"/>
            <ColumnDefinition Width="Auto"/>
          </Grid.ColumnDefinitions>
          <Label Background="White" Margin="18 3 3 3" Content="Name" Grid.Column="0" Grid.Row="1" Height="auto"/>
          <TextBox TextWrapping="NoWrap" Background="White" HorizontalAlignment="Left" AcceptsReturn="False" TextAlignment="Left" Grid.Column="1" Grid.Row="1" Margin="3" Width="250">
            <TextBox.Text>
              <Binding Path="SelectedOperationName" UpdateSourceTrigger="PropertyChanged" ValidatesOnDataErrors="True"/>
            </TextBox.Text>
          </TextBox>
        </Grid>
        <Button Grid.Row="3">
          <Button.Command>
            <Binding Path="AddOperationCommand"/>
          </Button.Command>
          <Button.IsEnabled>
            <Binding Path="SelectedOperationName" Converter="{x:Static ns5:ExpressionConverter.Instance}" ConverterParameter="&lt;expr id=&quot;5&quot;&gt;&lt;lambda isaction=&quot;False&quot;&gt;&lt;ternary&gt;&lt;staticcall method=&quot;IsNullOrEmpty&quot;&gt;&lt;typeinfo typename=&quot;System.String&quot; isarray=&quot;False&quot;&gt;&lt;/typeinfo&gt;&lt;parameter name=&quot;name&quot; type=&quot;System.String&quot; /&gt;&lt;/staticcall&gt;&lt;prim val=&quot;false&quot; isnull=&quot;False&quot;&gt;&lt;typeinfo typename=&quot;System.Boolean&quot; isarray=&quot;False&quot;&gt;&lt;/typeinfo&gt;&lt;/prim&gt;&lt;prim val=&quot;true&quot; isnull=&quot;False&quot;&gt;&lt;typeinfo typename=&quot;System.Boolean&quot; isarray=&quot;False&quot;&gt;&lt;/typeinfo&gt;&lt;/prim&gt;&lt;/ternary&gt;&lt;parameter name=&quot;name&quot; type=&quot;System.String&quot; /&gt;&lt;/lambda&gt;&lt;/expr&gt;"/>
          </Button.IsEnabled>Add
        </Button>
        <ns4:PropertyGrid BorderThickness="0" Grid.Row="2" UpdateTextBoxSourceOnEnterKey="True" ShowSearchBox="False" HorizontalAlignment="Left" VerticalAlignment="Top" ShowSortOptions="False" Width="800" MaxHeight="750" Margin="2 2 2 10" ShowSummary="False" Background="#F5F5F5" ShowDescriptionByTooltip="True">
          <ns4:PropertyGrid.SelectedObjectTypeName>
            <Binding Path="SelectedOperation.ImplementationType"/>
          </ns4:PropertyGrid.SelectedObjectTypeName>
          <ns4:PropertyGrid.SelectedObject>
            <Binding Path="SelectedOperationConfig" UpdateSourceTrigger="PropertyChanged"/>
          </ns4:PropertyGrid.SelectedObject>
        </ns4:PropertyGrid>
      </Grid>
    </Grid>
  </ScrollViewer>
</UserControl>